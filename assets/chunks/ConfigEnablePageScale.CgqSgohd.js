import{_ as te,a as ie}from"./index.vue_vue_type_script_setup_true_lang.Ccx0nsOK.js";import{L as F,ak as q,k as a,p as b,h,v as J,q as K,ah as ne,x as le,al as B,d as j,c as y,o,j as C,e as d,X as oe,n as f,b as v,w as g,H as S,t as A,r as R,G as L,N as se,Z as ce,P as X,am as H}from"./framework.CSDP4UEa.js";import{f as re,d as ue,c as de,i as N,u as ve,e as fe,E as V,l as pe}from"./use-form-common-props.DQ9QWhUF.js";import{d as me,e as he,f as P,i as _,b as ye,g as be,_ as Ie,u as ge,h as ke,w as we}from"./install.BQJWbQ1H.js";import{u as Ve,d as Se,t as Ee}from"./index.5A6p3rju.js";import"./index.CLELLqiP.js";const z="update:modelValue",D="change",$="input",W={prefix:Math.floor(Math.random()*1e4),current:0},Te=Symbol("elIdInjection"),Ne=()=>q()?F(Te,W):W,Pe=i=>{const l=Ne(),s=me();return he(()=>a(i)||`${s.value}-id-${l.prefix}-${l.current++}`)},Be=()=>{const i=F(re,void 0),l=F(ue,void 0);return{form:i,formItem:l}},Ce=(i,{formItemContext:l,disableIdGeneration:s,disableIdManagement:n})=>{s||(s=b(!1)),n||(n=b(!1));const p=q(),E=()=>{let r=p==null?void 0:p.parent;for(;r;){if(r.type.name==="ElFormItem")return!1;if(r.type.name==="ElLabelWrap")return!0;r=r.parent}return!1},t=b();let I;const k=h(()=>{var r;return!!(!(i.label||i.ariaLabel)&&l&&l.inputIds&&((r=l.inputIds)==null?void 0:r.length)<=1)});return J(()=>{I=K([ne(i,"id"),s],([r,m])=>{const w=r??(m?void 0:Pe().value);w!==t.value&&(l!=null&&l.removeInputId&&!E()&&(t.value&&l.removeInputId(t.value),!(n!=null&&n.value)&&!m&&w&&l.addInputId(w)),t.value=w)},{immediate:!0})}),le(()=>{I&&I(),l!=null&&l.removeInputId&&t.value&&l.removeInputId(t.value)}),{isLabeledByFormItem:k,inputId:t}},Ae=i=>["",...de].includes(i),_e=ye({modelValue:{type:[Boolean,String,Number],default:!1},disabled:Boolean,loading:Boolean,size:{type:String,validator:Ae},width:{type:[String,Number],default:""},inlinePrompt:Boolean,inactiveActionIcon:{type:N},activeActionIcon:{type:N},activeIcon:{type:N},inactiveIcon:{type:N},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:be(Function)},id:String,tabindex:{type:[String,Number]},...Ve(["ariaLabel"])}),Fe={[z]:i=>P(i)||B(i)||_(i),[D]:i=>P(i)||B(i)||_(i),[$]:i=>P(i)||B(i)||_(i)},Y="ElSwitch",Ke=j({name:Y}),Le=j({...Ke,props:_e,emits:Fe,setup(i,{expose:l,emit:s}){const n=i,{formItem:p}=Be(),E=ve(),t=ge("switch"),{inputId:I}=Ce(n,{formItemContext:p}),k=fe(h(()=>n.loading)),r=b(n.modelValue!==!1),m=b(),w=b(),Z=h(()=>[t.b(),t.m(E.value),t.is("disabled",k.value),t.is("checked",c.value)]),G=h(()=>[t.e("label"),t.em("label","left"),t.is("active",!c.value)]),Q=h(()=>[t.e("label"),t.em("label","right"),t.is("active",c.value)]),x=h(()=>({width:ke(n.width)}));K(()=>n.modelValue,()=>{r.value=!0});const O=h(()=>r.value?n.modelValue:!1),c=h(()=>O.value===n.activeValue);[n.activeValue,n.inactiveValue].includes(O.value)||(s(z,n.inactiveValue),s(D,n.inactiveValue),s($,n.inactiveValue)),K(c,e=>{var u;m.value.checked=e,n.validateEvent&&((u=p==null?void 0:p.validate)==null||u.call(p,"change").catch(ae=>Se()))});const T=()=>{const e=c.value?n.inactiveValue:n.activeValue;s(z,e),s(D,e),s($,e),X(()=>{m.value.checked=c.value})},U=()=>{if(k.value)return;const{beforeChange:e}=n;if(!e){T();return}const u=e();[H(u),P(u)].includes(!0)||Ee(Y,"beforeChange must return type `Promise<boolean>` or `boolean`"),H(u)?u.then(M=>{M&&T()}).catch(M=>{}):u&&T()},ee=()=>{var e,u;(u=(e=m.value)==null?void 0:e.focus)==null||u.call(e)};return J(()=>{m.value.checked=c.value}),l({focus:ee,checked:c}),(e,u)=>(o(),y("div",{class:f(a(Z)),onClick:ce(U,["prevent"])},[C("input",{id:a(I),ref_key:"input",ref:m,class:f(a(t).e("input")),type:"checkbox",role:"switch","aria-checked":a(c),"aria-disabled":a(k),"aria-label":e.ariaLabel,name:e.name,"true-value":e.activeValue,"false-value":e.inactiveValue,disabled:a(k),tabindex:e.tabindex,onChange:T,onKeydown:oe(U,["enter"])},null,42,["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex","onKeydown"]),!e.inlinePrompt&&(e.inactiveIcon||e.inactiveText)?(o(),y("span",{key:0,class:f(a(G))},[e.inactiveIcon?(o(),v(a(V),{key:0},{default:g(()=>[(o(),v(S(e.inactiveIcon)))]),_:1})):d("v-if",!0),!e.inactiveIcon&&e.inactiveText?(o(),y("span",{key:1,"aria-hidden":a(c)},A(e.inactiveText),9,["aria-hidden"])):d("v-if",!0)],2)):d("v-if",!0),C("span",{ref_key:"core",ref:w,class:f(a(t).e("core")),style:se(a(x))},[e.inlinePrompt?(o(),y("div",{key:0,class:f(a(t).e("inner"))},[e.activeIcon||e.inactiveIcon?(o(),v(a(V),{key:0,class:f(a(t).is("icon"))},{default:g(()=>[(o(),v(S(a(c)?e.activeIcon:e.inactiveIcon)))]),_:1},8,["class"])):e.activeText||e.inactiveText?(o(),y("span",{key:1,class:f(a(t).is("text")),"aria-hidden":!a(c)},A(a(c)?e.activeText:e.inactiveText),11,["aria-hidden"])):d("v-if",!0)],2)):d("v-if",!0),C("div",{class:f(a(t).e("action"))},[e.loading?(o(),v(a(V),{key:0,class:f(a(t).is("loading"))},{default:g(()=>[L(a(pe))]),_:1},8,["class"])):a(c)?R(e.$slots,"active-action",{key:1},()=>[e.activeActionIcon?(o(),v(a(V),{key:0},{default:g(()=>[(o(),v(S(e.activeActionIcon)))]),_:1})):d("v-if",!0)]):a(c)?d("v-if",!0):R(e.$slots,"inactive-action",{key:2},()=>[e.inactiveActionIcon?(o(),v(a(V),{key:0},{default:g(()=>[(o(),v(S(e.inactiveActionIcon)))]),_:1})):d("v-if",!0)])],2)],6),!e.inlinePrompt&&(e.activeIcon||e.activeText)?(o(),y("span",{key:1,class:f(a(Q))},[e.activeIcon?(o(),v(a(V),{key:0},{default:g(()=>[(o(),v(S(e.activeIcon)))]),_:1})):d("v-if",!0),!e.activeIcon&&e.activeText?(o(),y("span",{key:1,"aria-hidden":!a(c)},A(e.activeText),9,["aria-hidden"])):d("v-if",!0)],2)):d("v-if",!0)],10,["onClick"]))}});var ze=Ie(Le,[["__file","switch.vue"]]);const De=we(ze),$e={class:"p-5 rounded bg-am-dark flex justify-center relative"},We=j({__name:"ConfigEnablePageScale",setup(i){const l=b(!0),s=b(!0),n=()=>{s.value=!1,X(()=>{s.value=!0})},p=[{value:394,name:"爱奇艺",itemStyle:{color:"#00BE06"}},{value:268,name:"腾讯视频",itemStyle:{color:"#38e2f7"}},{value:180,name:"芒果TV",itemStyle:{color:"#FF6A00"}}];return(E,t)=>(o(),y("div",$e,[L(a(De),{modelValue:l.value,"onUpdate:modelValue":t[0]||(t[0]=I=>l.value=I),"active-text":"启用","inactive-text":"关闭","inline-prompt":"",class:"absolute left-7 top-5",style:{"--el-switch-on-color":"#13ce66","--el-switch-off-color":"#ff4949"},onChange:n},null,8,["modelValue"]),L(ie,{config:{enablePageScale:l.value}},{default:g(()=>[s.value?(o(),v(te,{key:0,data:p,"box-size":90,"max-height":40,class:"h-80 w-[400px]"})):d("",!0)]),_:1},8,["config"])]))}});export{We as default};
