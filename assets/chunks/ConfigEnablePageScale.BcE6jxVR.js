import{_ as ie,a as ne}from"./index.vue_vue_type_script_setup_true_lang.D8e_Te6Y.js";import{L as _,ah as q,k as a,p as b,h,v as J,q as j,ai as le,x as oe,aj as B,d as $,c as y,o,j as C,e as d,X as se,n as f,b as v,w as g,H as S,t as A,r as R,G as K,N as ce,Z as re,P as X,ak as H}from"./framework.CLsYUbul.js";import{f as ue,b as de,c as ve,u as fe,d as pe,E as V,l as me}from"./use-form-common-props.GlcFp1b7.js";import{d as Y,a as he,i as P,c as F,b as ye,_ as be,u as Ie,e as ge,w as ke}from"./install.XrAiPctt.js";import{c as we,u as Ve,d as Se,t as Ee}from"./index.Cim3oam9.js";import"./index.DAkLox_z.js";const L="update:modelValue",z="change",D="input",N=Y([String,Object,Function]),W={prefix:Math.floor(Math.random()*1e4),current:0},Te=Symbol("elIdInjection"),Ne=()=>q()?_(Te,W):W,Pe=i=>{const l=Ne(),s=he();return we(()=>a(i)||`${s.value}-id-${l.prefix}-${l.current++}`)},Be=()=>{const i=_(ue,void 0),l=_(de,void 0);return{form:i,formItem:l}},Ce=(i,{formItemContext:l,disableIdGeneration:s,disableIdManagement:n})=>{s||(s=b(!1)),n||(n=b(!1));const p=q(),E=()=>{let r=p==null?void 0:p.parent;for(;r;){if(r.type.name==="ElFormItem")return!1;if(r.type.name==="ElLabelWrap")return!0;r=r.parent}return!1},t=b();let I;const k=h(()=>{var r;return!!(!(i.label||i.ariaLabel)&&l&&l.inputIds&&((r=l.inputIds)==null?void 0:r.length)<=1)});return J(()=>{I=j([le(i,"id"),s],([r,m])=>{const w=r??(m?void 0:Pe().value);w!==t.value&&(l!=null&&l.removeInputId&&!E()&&(t.value&&l.removeInputId(t.value),!(n!=null&&n.value)&&!m&&w&&l.addInputId(w)),t.value=w)},{immediate:!0})}),oe(()=>{I&&I(),l!=null&&l.removeInputId&&t.value&&l.removeInputId(t.value)}),{isLabeledByFormItem:k,inputId:t}},Ae=i=>["",...ve].includes(i),Fe=ye({modelValue:{type:[Boolean,String,Number],default:!1},disabled:Boolean,loading:Boolean,size:{type:String,validator:Ae},width:{type:[String,Number],default:""},inlinePrompt:Boolean,inactiveActionIcon:{type:N},activeActionIcon:{type:N},activeIcon:{type:N},inactiveIcon:{type:N},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:Y(Function)},id:String,tabindex:{type:[String,Number]},...Ve(["ariaLabel"])}),_e={[L]:i=>P(i)||B(i)||F(i),[z]:i=>P(i)||B(i)||F(i),[D]:i=>P(i)||B(i)||F(i)},Z="ElSwitch",je=$({name:Z}),Ke=$({...je,props:Fe,emits:_e,setup(i,{expose:l,emit:s}){const n=i,{formItem:p}=Be(),E=fe(),t=Ie("switch"),{inputId:I}=Ce(n,{formItemContext:p}),k=pe(h(()=>n.loading)),r=b(n.modelValue!==!1),m=b(),w=b(),G=h(()=>[t.b(),t.m(E.value),t.is("disabled",k.value),t.is("checked",c.value)]),Q=h(()=>[t.e("label"),t.em("label","left"),t.is("active",!c.value)]),x=h(()=>[t.e("label"),t.em("label","right"),t.is("active",c.value)]),ee=h(()=>({width:ge(n.width)}));j(()=>n.modelValue,()=>{r.value=!0});const O=h(()=>r.value?n.modelValue:!1),c=h(()=>O.value===n.activeValue);[n.activeValue,n.inactiveValue].includes(O.value)||(s(L,n.inactiveValue),s(z,n.inactiveValue),s(D,n.inactiveValue)),j(c,e=>{var u;m.value.checked=e,n.validateEvent&&((u=p==null?void 0:p.validate)==null||u.call(p,"change").catch(te=>Se()))});const T=()=>{const e=c.value?n.inactiveValue:n.activeValue;s(L,e),s(z,e),s(D,e),X(()=>{m.value.checked=c.value})},U=()=>{if(k.value)return;const{beforeChange:e}=n;if(!e){T();return}const u=e();[H(u),P(u)].includes(!0)||Ee(Z,"beforeChange must return type `Promise<boolean>` or `boolean`"),H(u)?u.then(M=>{M&&T()}).catch(M=>{}):u&&T()},ae=()=>{var e,u;(u=(e=m.value)==null?void 0:e.focus)==null||u.call(e)};return J(()=>{m.value.checked=c.value}),l({focus:ae,checked:c}),(e,u)=>(o(),y("div",{class:f(a(G)),onClick:re(U,["prevent"])},[C("input",{id:a(I),ref_key:"input",ref:m,class:f(a(t).e("input")),type:"checkbox",role:"switch","aria-checked":a(c),"aria-disabled":a(k),"aria-label":e.ariaLabel,name:e.name,"true-value":e.activeValue,"false-value":e.inactiveValue,disabled:a(k),tabindex:e.tabindex,onChange:T,onKeydown:se(U,["enter"])},null,42,["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex","onKeydown"]),!e.inlinePrompt&&(e.inactiveIcon||e.inactiveText)?(o(),y("span",{key:0,class:f(a(Q))},[e.inactiveIcon?(o(),v(a(V),{key:0},{default:g(()=>[(o(),v(S(e.inactiveIcon)))]),_:1})):d("v-if",!0),!e.inactiveIcon&&e.inactiveText?(o(),y("span",{key:1,"aria-hidden":a(c)},A(e.inactiveText),9,["aria-hidden"])):d("v-if",!0)],2)):d("v-if",!0),C("span",{ref_key:"core",ref:w,class:f(a(t).e("core")),style:ce(a(ee))},[e.inlinePrompt?(o(),y("div",{key:0,class:f(a(t).e("inner"))},[e.activeIcon||e.inactiveIcon?(o(),v(a(V),{key:0,class:f(a(t).is("icon"))},{default:g(()=>[(o(),v(S(a(c)?e.activeIcon:e.inactiveIcon)))]),_:1},8,["class"])):e.activeText||e.inactiveText?(o(),y("span",{key:1,class:f(a(t).is("text")),"aria-hidden":!a(c)},A(a(c)?e.activeText:e.inactiveText),11,["aria-hidden"])):d("v-if",!0)],2)):d("v-if",!0),C("div",{class:f(a(t).e("action"))},[e.loading?(o(),v(a(V),{key:0,class:f(a(t).is("loading"))},{default:g(()=>[K(a(me))]),_:1},8,["class"])):a(c)?R(e.$slots,"active-action",{key:1},()=>[e.activeActionIcon?(o(),v(a(V),{key:0},{default:g(()=>[(o(),v(S(e.activeActionIcon)))]),_:1})):d("v-if",!0)]):a(c)?d("v-if",!0):R(e.$slots,"inactive-action",{key:2},()=>[e.inactiveActionIcon?(o(),v(a(V),{key:0},{default:g(()=>[(o(),v(S(e.inactiveActionIcon)))]),_:1})):d("v-if",!0)])],2)],6),!e.inlinePrompt&&(e.activeIcon||e.activeText)?(o(),y("span",{key:1,class:f(a(x))},[e.activeIcon?(o(),v(a(V),{key:0},{default:g(()=>[(o(),v(S(e.activeIcon)))]),_:1})):d("v-if",!0),!e.activeIcon&&e.activeText?(o(),y("span",{key:1,"aria-hidden":!a(c)},A(e.activeText),9,["aria-hidden"])):d("v-if",!0)],2)):d("v-if",!0)],10,["onClick"]))}});var Le=be(Ke,[["__file","switch.vue"]]);const ze=ke(Le),De={class:"p-5 rounded bg-am-dark flex justify-center relative"},We=$({__name:"ConfigEnablePageScale",setup(i){const l=b(!0),s=b(!0),n=()=>{s.value=!1,X(()=>{s.value=!0})},p=[{value:394,name:"爱奇艺",itemStyle:{color:"#00BE06"}},{value:268,name:"腾讯视频",itemStyle:{color:"#38e2f7"}},{value:180,name:"芒果TV",itemStyle:{color:"#FF6A00"}}];return(E,t)=>(o(),y("div",De,[K(a(ze),{modelValue:l.value,"onUpdate:modelValue":t[0]||(t[0]=I=>l.value=I),"active-text":"启用","inactive-text":"关闭","inline-prompt":"",class:"absolute left-7 top-5",style:{"--el-switch-on-color":"#13ce66","--el-switch-off-color":"#ff4949"},onChange:n},null,8,["modelValue"]),K(ne,{config:{enablePageScale:l.value}},{default:g(()=>[s.value?(o(),v(ie,{key:0,data:p,"box-size":90,"max-height":40,class:"h-80 w-[400px]"})):d("",!0)]),_:1},8,["config"])]))}});export{We as default};
